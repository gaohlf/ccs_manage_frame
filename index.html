<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>冰山冷云运维管理系统</title>
</head>
<body onload="onload()">

<!--<select>-->
<!--    <option value="volvo">Volvo</option>-->
<!--    <option value="saab">Saab</option>-->
<!--    <option value="mercedes">Mercedes</option>-->
<!--    <option value="audi">Audi</option>-->
<!--</select>-->

<div id="boxes" class="nav">
    <div id="box1" class="current" onclick="button_clicked('box1', 'http://172.30.46.49:9999')">晴雨表</div>
    <div id="box2" class="" onclick="button_clicked('box2','http://10.10.96.5:9180/#/account_dash?token=admin')">门户管理</div>
    <div id="box3" class="" onclick="button_clicked('box3','faults.html')">故障列表</div>
    <div id="link" ><a href="http://172.28.1.14:3000">监控平台</a></div>
</div>
<a id="url"></a>
<iframe id="frame-box"></iframe>
</iframe>

</body>
</html>
<script type="text/javascript">

    function onload()
    {
        button_clicked("box1",'http://172.30.46.49:9999');
        setTimeout(function()
        {
            console.log("reload")
            location.reload();
        },3600000); //指定1小时刷新一次
    }

    function clear_current()
    {
        var boxes = document.getElementById("boxes").getElementsByTagName("div");
        for (i = 0; i < boxes.length; i++)
        {
            boxes[i].setAttribute("class", "");
        }
    }

    function button_clicked(boxname, urlpath)
    {
        clear_current();
        var box1= document.getElementById(boxname);
        box1.setAttribute("class","current");
        console.log(boxname + "_clicked")
        let iframe = document.getElementById("frame-box");
        iframe.src= urlpath;
        // var url = document.getElementById("url");
        // url.textContent = "frame link[" + iframe.src + "]";
    }

</script>
<style >

    .nav {
        display: flex;
        width: 453px;
        height: 40px;
        line-height: 40px;
    }

    .nav div {
        font-size: 14px;
        /*font-family: Microsoft YaHei, Microsoft YaHei-Regular;*/
        padding: 0 20px;
        letter-spacing: 2px;
        color: #333333;
        border: 1px solid #cccc;
        box-sizing: border-box;
    }

    .nav .current {
        color: #3161a9;
        border: 1px solid #3161a9;
    }

    iframe {
        width: 100%;
        height: 100vh;
    }
</style>